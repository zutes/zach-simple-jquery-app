var pokemonRepository=function(){var t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=150";function o(e){t.push(e)}function n(t){pokemonRepository.loadDetails(t).then(function(){console.log(t),i(t)})}function i(t){var e=$(".modal-body"),o=$(".modal-title");e.empty(),o.empty();var n=$("<h1>"+t.name+"</h1>"),i=$('<img class="modal-img">');i.attr("src",t.imageUrl);var a=$("<p>Height: "+t.height+"m</p>"),p=$("<p>Weight: "+t.weight+"kg</p>"),l=$("<p>Types: "+t.types+"</p>"),s=$("<p>Abilities: "+t.abilities+"</p>");e.append(n),e.append(i),e.append(a),e.append(p),e.append(l),e.append(s)}return{add:o,getAll:function(){return t},addListItem:function(t){var e=$(".pokemon-list"),o=$('<button type="button" class="btn btn-primary btn-md list-button" data-toggle="modal" data-target="#exampleModal">'+t.name+"</button>"),i=$("<li>");i.append(o),e.append(i),o.on("click",function(e){n(t)})},loadList:function(){return $.ajax(e).then(function(t){t.results.forEach(function(t){var e={name:t.name,detailsUrl:t.url};o(e),console.log(e)})}).catch(function(t){console.error(t)})},loadDetails:function(t){var e=t.detailsUrl;return $.ajax(e).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=[];for(var o=0;o<e.types.length;o++)t.types.push(e.types[o].type.name);for(t.abilities=[],o=0;o<e.abilities.length;o++)t.abilities.push(e.abilities[o].ability.name);return t.weight=e.weight,t}).catch(function(t){console.error(t)})},showDetails:n,showModal:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})}),$(document).ready(function(){$("#input").on("keyup",function(){var t=$(this).val().toLowerCase();$(".pokemon-list *").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})})});